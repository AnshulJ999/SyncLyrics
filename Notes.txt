



Move all providers to a separate file. under /providers/. 

Fix lyric syncing

Move Spotify API to a separate file and use it only for artist/title. 

Simplify the code. 

Simplify system_utils to make it faster. 


---

# Features To CONSIDER

1. **Provider System**
- Multiple lyrics providers (LRCLib, NetEase)
- Provider priority system
- Easy to add new providers
- Error handling per provider
- Retry logic for failed requests

2. **Local Storage**
- Local database for lyrics
- JSON storage format
- Metadata tracking
- Timestamp tracking
- Provider source tracking

3. **UI Features**
- Minimal mode support
- Color extraction from album art
- Dynamic background colors
- Multiple theme support
- Better lyrics display (6 lines instead of 3)

4. **Configuration System**
- .env support
- Extensive config.py settings
- Feature flags
- Environment-specific settings
- Debug mode settings

5. **Error Handling & Logging**
- Comprehensive error logging
- Debug mode
- Performance tracking
- Provider statistics
- Error recovery systems

6. **Performance Features**
- Lyrics timing adjustments
- Position smoothing
- Latency compensation
- Performance monitoring

# Suggested Additional Features

1. **User Features**
- Manual lyrics timing adjustment
- Lyrics search interface
- Favorite songs list
- Manual lyrics editing
- Export/Import lyrics

2. **Display Features**
- Karaoke mode (highlight current word)
- Romanization support for Asian languages
- Multiple display styles
- Custom CSS support

3. **Integration Features**
- Discord rich presence
- Last.fm scrobbling
- Music player control
- Hotkey support

# Action Plan for Experiment Branch Enhancement

## Phase 1: Core Improvements
1. **Local Storage**
   - Implement lyrics database
   - Add metadata tracking
   - Add caching system

2. **Basic Provider System**
   - Add NetEase provider
   - Add provider selection logic
   - Add basic error handling

**Timeline**: 1-2 days
**Priority**: High

## Phase 2: UI Enhancement
1. **Display Improvements**
   - Implement 6-line display
   - Add minimal mode
   - Add color extraction

2. **Theme System**
   - Add theme support
   - Add background customization
   - Implement color schemes

**Timeline**: 2-3 days
**Priority**: Medium

## Phase 3: Configuration & Logging
1. **Config System**
   - Add .env support
   - Create config.py
   - Add feature flags

2. **Logging System**
   - Add comprehensive logging
   - Add debug mode
   - Add performance tracking

**Timeline**: 1-2 days
**Priority**: Medium

## Phase 4: Performance & Timing
1. **Timing Improvements**
   - Add latency compensation
   - Add position smoothing
   - Add manual adjustment

2. **Performance Features**
   - Add performance monitoring
   - Optimize provider calls
   - Add caching

**Timeline**: 2-3 days
**Priority**: High

## Phase 5: Additional Features
1. **User Features**
   - Add lyrics search
   - Add manual editing
   - Add favorites system

2. **Integration Features**
   - Add Discord presence
   - Add Last.fm support
   - Add hotkeys

**Timeline**: 3-4 days
**Priority**: Low

# Implementation Guidelines
1. Work on one feature at a time
2. Test thoroughly before moving on
3. Keep working code working
4. Document all changes
5. Create restore points
6. Focus on stability over features


---


Some features I plan to implement:

```
- Better handling of network timeouts
```

- Add Musixmatch provider (they have high-quality synced lyrics) 
- Add QQ Music provider (good for Asian music)

Add any other synced lyrics providers that you know of. 


```
- Parallel provider fetching
- Smart provider ordering based on success rate
- Cache provider statistics to prioritize faster/more reliable ones
```



```
- Better song title/artist matching using fuzzy matching
```


```
- Add lyrics source attribution in UI
- Show loading states while fetching lyrics
- Provider preference settings in UI
```

These should be done only if minimal=true isn't set. 
That is, in minimal mode, I want just the lyrics with a clean look, as in the image. 
In normal mode, we can add more info. There should also be a button for minimal mode. 

Some more things:

1) Download and store all lyric files in a directory, with one file per song. 

So we have an organized database of lyrics. 

We want a high-quality database of lyrics.  With perfect syncs. 

This database will be referred to when possible, so it will work better. 

2) Add an option to change the background of the UI. 

Different color options, gradients, 

and also be able to add the album art or an album-art-color-gradient. 

