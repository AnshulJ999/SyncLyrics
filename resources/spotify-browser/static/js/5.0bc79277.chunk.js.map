{"version":3,"file":"static/js/5.0bc79277.chunk.js","mappings":"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","sources":["pages/Genre/container/content.tsx","pages/Genre/container/header.tsx","pages/Genre/index.tsx","utils/getDescription.ts"],"sourcesContent":["import { memo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useAppSelector } from '../../../store/store';\nimport { GridItemList } from '../../../components/Lists/list';\nimport { getPlaylistDescription } from '../../../utils/getDescription';\nimport tinycolor from 'tinycolor2';\n\nexport const GenreContent = memo((props: { color: string }) => {\n  const [t] = useTranslation(['home']);\n  const playlists = useAppSelector((state) => state.genre.playlists);\n\n  return (\n    <div\n      style={{\n        padding: 20,\n        paddingTop: 30,\n        maxHeight: 260,\n        background: `linear-gradient(${\n          tinycolor(props.color).isLight()\n            ? tinycolor(props.color).darken(20)\n            : tinycolor(props.color).darken(12)\n        } 0, rgb(18 18 18) 100%), var(--background-noise)`,\n      }}\n      className='genre-list'\n    >\n      <GridItemList\n        title={t('Popular playlists')}\n        items={playlists}\n        getDescription={getPlaylistDescription}\n      />\n    </div>\n  );\n});\n\nGenreContent.displayName = 'GenreContent';\n\nexport default GenreContent;\n","import { FC, memo } from 'react';\nimport { Category } from '../../../interfaces/categories';\n\nexport const GenreHeader: FC<{ color: string; category: Category }> = memo((props) => {\n  const { color } = props;\n\n  return (\n    <div className='genre-page-header'>\n      <div className='container' style={{ backgroundColor: color }}></div>\n      <div\n        className='content'\n        style={{\n          width: '100%',\n          height: '100%',\n          position: 'absolute',\n          background: `linear-gradient(transparent 0, rgba(0,0,0,.5) 100%), url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIGJhc2VGcmVxdWVuY3k9Ii43NSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgdHlwZT0iZnJhY3RhbE5vaXNlIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPjwvZmlsdGVyPjxwYXRoIGQ9Ik0wIDBoMzAwdjMwMEgweiIgZmlsdGVyPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMDUiLz48L3N2Zz4=)`,\n        }}\n      ></div>\n      <div className='contentSpacing'>\n        <div></div>\n        <div className='textContainer'>\n          <span>\n            <h1>{props.category.name}</h1>\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n});\n","import { memo, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport GenreContent from './container/content';\nimport { GenreHeader } from './container/header';\n\n// Redux\nimport { fetchGenre, genreActions } from '../../store/slices/genre';\nimport { useAppDispatch, useAppSelector } from '../../store/store';\n\n// Utils\nimport { getImageAnalysis2 } from '../../utils/imageAnyliser';\nimport tinycolor from 'tinycolor2';\n\n// Constants\nimport { DEFAULT_PAGE_COLOR } from '../../constants/spotify';\n\nexport const GenrePage = memo(() => {\n  const dispatch = useAppDispatch();\n\n  const params = useParams<{ genreId: string }>();\n  const [color, setColor] = useState(DEFAULT_PAGE_COLOR);\n  const category = useAppSelector((state) => state.genre.category);\n\n  useEffect(() => {\n    if (params.genreId) {\n      dispatch(fetchGenre(params.genreId));\n    }\n    return () => {\n      dispatch(genreActions.setGenre(null));\n    };\n  }, [dispatch, params.genreId]);\n\n  useEffect(() => {\n    if (category && category.icons.length) {\n      const { url } = category.icons[0];\n      getImageAnalysis2(url).then((color) => {\n        setColor(tinycolor(color).saturate(60).lighten(10).toHexString());\n      });\n    }\n  }, [category]);\n\n  if (!category) return null;\n\n  return (\n    <>\n      <GenreHeader color={color} category={category} />\n      <GenreContent color={color} />\n    </>\n  );\n});\n\nGenrePage.displayName = 'GenrePage';\n\nexport default GenrePage;\n","import type { Album } from '../interfaces/albums';\nimport type { Artist } from '../interfaces/artist';\nimport type { Playlist } from '../interfaces/playlists';\nimport { Track } from '../interfaces/track';\n\nexport const removeHtmlTags = (html: string) => {\n  const div = document.createElement('div');\n  div.innerHTML = html;\n  return div.textContent || div.innerText || '';\n};\n\nexport const getItemDescription = (item: Playlist | Album | Artist | Track) => {\n  if (item.type === 'playlist') {\n    return getPlaylistDescription(item);\n  }\n  if (item.type === 'album') {\n    return getAlbumDescription(item);\n  }\n  return '';\n};\n\nexport const getPlaylistDescription = (item: Playlist | Album | Artist | Track) => {\n  if (item.type === 'playlist') {\n    return removeHtmlTags(item.description || '');\n  }\n  return '';\n};\n\nexport const getAlbumDescription = (item: Playlist | Album | Artist | Track) => {\n  if (item.type === 'album') {\n    const year = item.release_date.split('-')[0];\n    const type = item.album_type === 'album' ? 'Album' : 'Single';\n    return `${year} â€¢ ${type}`;\n  }\n  return '';\n};\n"],"names":["GenreContent","memo","props","t","useTranslation","playlists","useAppSelector","state","genre","_jsx","style","padding","paddingTop","maxHeight","background","concat","tinycolor","color","isLight","darken","className","children","GridItemList","title","items","getDescription","getPlaylistDescription","displayName","GenreHeader","_jsxs","backgroundColor","width","height","position","category","name","GenrePage","dispatch","useAppDispatch","params","useParams","setColor","useState","DEFAULT_PAGE_COLOR","useEffect","genreId","fetchGenre","genreActions","setGenre","icons","length","url","getImageAnalysis2","then","saturate","lighten","toHexString","_Fragment","getItemDescription","item","type","getAlbumDescription","html","div","document","createElement","innerHTML","textContent","innerText","removeHtmlTags","description","year","release_date","split","album_type"],"sourceRoot":""}