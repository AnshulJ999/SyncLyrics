{"version":3,"file":"static/js/386.787685d4.chunk.js","mappings":"qQAcA,MAAMA,EAAmB,CACvBC,QAAS,GACTC,WAAY,GACZC,UAAW,KAGAC,GAA0BC,EAAAA,EAAAA,OAAMC,IAC3C,MAAMC,GAAWC,EAAAA,EAAAA,OACVC,IAAKC,EAAAA,EAAAA,IAAe,CAAC,WACtBC,GAAQC,EAAAA,EAAAA,KAAgBC,GAAUA,EAAMC,cAAcH,QAEtDI,GAAWC,EAAAA,EAAAA,cACdC,IACCV,EAASW,EAAAA,EAAqBC,WAAWF,GAAM,GAEjD,CAACV,IAGGa,GACJC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CACHC,GAAG,UACHC,UAAU,sBACVC,QAASA,KACPlB,EAASW,EAAAA,EAAqBQ,aAAa,EAC3CC,UAEFN,EAAAA,EAAAA,KAAA,QAAAM,SAAOlB,EAAE,6BAIb,OACEY,EAAAA,EAAAA,KAAA,OAAKO,MAAO5B,EAAkBwB,UAAU,uBAAsBG,UAC5DN,EAAAA,EAAAA,KAACQ,EAAAA,GAAY,CACXlB,MAAOA,EACPmB,MAAOV,EACPW,aAAchB,EACdiB,MAAOvB,EAAE,mBACTwB,eAAgBC,EAAAA,MAEd,IAIV9B,EAAwB+B,YAAc,0BAEtC,U,eC9CO,MAAMC,GAAuB/B,EAAAA,EAAAA,OAAK,KACvC,MAAMgC,GAAWC,EAAAA,EAAAA,MACXC,GAAW3B,EAAAA,EAAAA,KAAgBC,GAAUA,EAAMC,cAAcH,QAQ/D,OANA6B,EAAAA,EAAAA,YAAU,KACJD,EAASE,OAAS,GACpBJ,EAAS,UACX,GACC,CAACA,EAAUE,KAGZlB,EAAAA,EAAAA,KAAAqB,EAAAA,SAAA,CAAAf,UACEN,EAAAA,EAAAA,KAACjB,EAAuB,CAACuC,MAAOC,EAAAA,MAC/B,IAIPR,EAAqBD,YAAc,uBAEnC,S,sDC3BO,MAMMD,EAAsBjB,GACf,aAAdA,EAAK4B,KACAC,EAAuB7B,GAEd,UAAdA,EAAK4B,KACAE,EAAoB9B,GAEtB,GAGI6B,EAA0B7B,GACnB,aAAdA,EAAK4B,KAjBoBG,KAC7B,MAAMC,EAAMC,SAASC,cAAc,OAEnC,OADAF,EAAIG,UAAYJ,EACTC,EAAII,aAAeJ,EAAIK,WAAa,EAAE,EAepCC,CAAetC,EAAKuC,aAAe,IAErC,GAGIT,EAAuB9B,IAClC,GAAkB,UAAdA,EAAK4B,KAAkB,CACzB,MAAMY,EAAOxC,EAAKyC,aAAaC,MAAM,KAAK,GACpCd,EAA2B,UAApB5B,EAAK2C,WAAyB,QAAU,SACrD,MAAM,GAANC,OAAUJ,EAAI,YAAAI,OAAMhB,EACtB,CACA,MAAO,EAAE,C","sources":["pages/Search/RecentlySearched/container/content.tsx","pages/Search/RecentlySearched/index.tsx","utils/getDescription.ts"],"sourcesContent":["import { memo, useCallback } from 'react';\n\n// Components\nimport { GridItemList } from '../../../../components/Lists/list';\n\n// Utils\nimport { useTranslation } from 'react-i18next';\nimport { getItemDescription } from '../../../../utils/getDescription';\n\n// Redux\nimport { useAppDispatch, useAppSelector } from '../../../../store/store';\nimport { searchHistoryActions } from '../../../../store/slices/searchHistory';\nimport { Link } from 'react-router-dom';\n\nconst CONTAINER_STYLES = {\n  padding: 20,\n  paddingTop: 30,\n  maxHeight: 260,\n} as const;\n\nexport const RecentlySearchedContent = memo((props: { color: string }) => {\n  const dispatch = useAppDispatch();\n  const [t] = useTranslation(['search']);\n  const items = useAppSelector((state) => state.searchHistory.items);\n\n  const onDelete = useCallback(\n    (item: any) => {\n      dispatch(searchHistoryActions.removeItem(item));\n    },\n    [dispatch]\n  );\n\n  const clearAllButton = (\n    <Link\n      to='/search'\n      className='clearRecentSearches'\n      onClick={() => {\n        dispatch(searchHistoryActions.clearItems());\n      }}\n    >\n      <span>{t('Clear recent searches')}</span>\n    </Link>\n  );\n\n  return (\n    <div style={CONTAINER_STYLES} className='recent-searches-list'>\n      <GridItemList\n        items={items}\n        extra={clearAllButton}\n        onItemDelete={onDelete}\n        title={t('Recent searches')}\n        getDescription={getItemDescription}\n      />\n    </div>\n  );\n});\n\nRecentlySearchedContent.displayName = 'RecentlySearchedContent';\n\nexport default RecentlySearchedContent;\n","import { memo, useEffect } from 'react';\n\nimport RecentlySearchedContent from './container/content';\n\n// Utils\nimport { useNavigate } from 'react-router-dom';\n\n// Redux\nimport { useAppSelector } from '../../../store/store';\n\n// Constants\nimport { DEFAULT_PAGE_COLOR } from '../../../constants/spotify';\n\nexport const RecentlySearchedPage = memo(() => {\n  const navigate = useNavigate();\n  const searches = useAppSelector((state) => state.searchHistory.items);\n\n  useEffect(() => {\n    if (searches.length < 7) {\n      navigate('/search');\n    }\n  }, [navigate, searches]);\n\n  return (\n    <>\n      <RecentlySearchedContent color={DEFAULT_PAGE_COLOR} />\n    </>\n  );\n});\n\nRecentlySearchedPage.displayName = 'RecentlySearchedPage';\n\nexport default RecentlySearchedPage;\n","import type { Album } from '../interfaces/albums';\nimport type { Artist } from '../interfaces/artist';\nimport type { Playlist } from '../interfaces/playlists';\nimport { Track } from '../interfaces/track';\n\nexport const removeHtmlTags = (html: string) => {\n  const div = document.createElement('div');\n  div.innerHTML = html;\n  return div.textContent || div.innerText || '';\n};\n\nexport const getItemDescription = (item: Playlist | Album | Artist | Track) => {\n  if (item.type === 'playlist') {\n    return getPlaylistDescription(item);\n  }\n  if (item.type === 'album') {\n    return getAlbumDescription(item);\n  }\n  return '';\n};\n\nexport const getPlaylistDescription = (item: Playlist | Album | Artist | Track) => {\n  if (item.type === 'playlist') {\n    return removeHtmlTags(item.description || '');\n  }\n  return '';\n};\n\nexport const getAlbumDescription = (item: Playlist | Album | Artist | Track) => {\n  if (item.type === 'album') {\n    const year = item.release_date.split('-')[0];\n    const type = item.album_type === 'album' ? 'Album' : 'Single';\n    return `${year} â€¢ ${type}`;\n  }\n  return '';\n};\n"],"names":["CONTAINER_STYLES","padding","paddingTop","maxHeight","RecentlySearchedContent","memo","props","dispatch","useAppDispatch","t","useTranslation","items","useAppSelector","state","searchHistory","onDelete","useCallback","item","searchHistoryActions","removeItem","clearAllButton","_jsx","Link","to","className","onClick","clearItems","children","style","GridItemList","extra","onItemDelete","title","getDescription","getItemDescription","displayName","RecentlySearchedPage","navigate","useNavigate","searches","useEffect","length","_Fragment","color","DEFAULT_PAGE_COLOR","type","getPlaylistDescription","getAlbumDescription","html","div","document","createElement","innerHTML","textContent","innerText","removeHtmlTags","description","year","release_date","split","album_type","concat"],"sourceRoot":""}