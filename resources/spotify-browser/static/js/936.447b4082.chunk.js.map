{"version":3,"file":"static/js/936.447b4082.chunk.js","mappings":"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","sources":["pages/Discography/container/content.tsx","pages/Discography/container/scrollHoverable.tsx","pages/Discography/container/index.tsx","pages/Discography/index.tsx","utils/getDescription.ts"],"sourcesContent":["import { memo, useMemo } from 'react';\nimport { useAppSelector } from '../../../store/store';\nimport { GridItemList } from '../../../components/Lists/list';\nimport { getAlbumDescription } from '../../../utils/getDescription';\nimport { orderBy } from 'lodash';\n\nexport const DiscographyContent = memo(() => {\n  const filter = useAppSelector((state) => state.artistDiscography.filter);\n  const albums = useAppSelector((state) => state.artistDiscography.albums);\n  const singles = useAppSelector((state) => state.artistDiscography.singles);\n  const compilations = useAppSelector((state) => state.artistDiscography.compilations);\n\n  const items = useMemo(() => {\n    if (filter === 'Album') return albums;\n    if (filter === 'Singles') return singles;\n    if (filter === 'Compilations') return compilations;\n\n    const result = [];\n    result.push(...albums);\n    result.push(...singles);\n    result.push(...compilations);\n    return orderBy(result, 'release_date', 'desc');\n  }, [filter, albums, singles, compilations]);\n\n  return (\n    <div style={{ margin: 20, marginTop: 120 }} className='genre-list'>\n      <GridItemList items={items} getDescription={getAlbumDescription} />\n    </div>\n  );\n});\n\nDiscographyContent.displayName = 'GenreContent';\n\nexport default DiscographyContent;\n","import { FC, memo, RefObject, useMemo, useState } from 'react';\n\n// Components\nimport { Dropdown, Flex, Space } from 'antd';\nimport { ArrowDownIcon, ArrowUpIcon } from '../../../components/Icons';\nimport { PageHeader } from '../../../components/Layout/components/Header';\n\n// Utils\nimport { useTranslation } from 'react-i18next';\n\n// Redux\nimport { useAppDispatch, useAppSelector } from '../../../store/store';\nimport { artistDiscographyActions } from '../../../store/slices/discography';\n\ninterface ArtistPageProps {\n  color: string;\n  container: RefObject<HTMLDivElement | null>;\n  sectionContainer: RefObject<HTMLDivElement | null>;\n}\n\nconst FilterSection = memo(() => {\n  const [t] = useTranslation(['artist']);\n\n  const dispatch = useAppDispatch();\n  const filter = useAppSelector((state) => state.artistDiscography.filter);\n  const albums = useAppSelector((state) => state.artistDiscography.albums);\n  const singles = useAppSelector((state) => state.artistDiscography.singles);\n  const compilations = useAppSelector((state) => state.artistDiscography.compilations);\n\n  const [open, setOpen] = useState(true);\n\n  const items = useMemo(() => {\n    const result = [];\n    if (albums.length) result.push('Album');\n    if (singles.length) result.push('Singles');\n    if (compilations.length) result.push('Compilations');\n    if (result.length) result.unshift('All');\n    return result;\n  }, [albums, singles, compilations]);\n\n  if (!items.length) return null;\n\n  return (\n    <Dropdown\n      trigger={['click']}\n      onOpenChange={setOpen}\n      placement='bottomRight'\n      menu={{\n        items: items.map((item) => ({\n          key: item,\n          label: t(item),\n          onClick: () => {\n            dispatch(artistDiscographyActions.setFilter({ filter: item as any }));\n          },\n        })),\n        selectedKeys: [filter],\n      }}\n    >\n      <button className='order-button'>\n        <Space align='center'>\n          <span style={{ fontSize: '0.875rem' }}>{t(filter)}</span>\n          {open ? <ArrowUpIcon /> : <ArrowDownIcon />}\n        </Space>\n      </button>\n    </Dropdown>\n  );\n});\n\n// const ViewSection = () => {\n//   return (\n//     <Space>\n//       <button className='addButton'>\n//         <GridIcon />\n//       </button>\n//     </Space>\n//   );\n// };\n\nexport const ArtistDicographyHoverableMenu: FC<ArtistPageProps> = memo((props) => {\n  const artist = useAppSelector((state) => state.artistDiscography.artist);\n\n  return (\n    <PageHeader {...props} activeHeider={0} activeContentHeight={0}>\n      <Flex style={{ marginTop: 20 }} align='center' justify='space-between'>\n        <h1 className='playlist-header'>{artist?.name}</h1>\n\n        <Space align='center' size={20}>\n          <FilterSection />\n          {/* <ViewSection /> */}\n        </Space>\n      </Flex>\n    </PageHeader>\n  );\n});\n\nexport default ArtistDicographyHoverableMenu;\n","import { FC, memo, RefObject, useRef } from 'react';\n\nimport DiscographyContent from './content';\nimport ArtistDicographyHoverableMenu from './scrollHoverable';\n\n// Constants\nimport { DEFAULT_PAGE_COLOR } from '../../../constants/spotify';\n\ninterface ArtistDicographyPageProps {\n  container: RefObject<HTMLDivElement | null>;\n}\n\nexport const ArtistDiscographyContainer: FC<ArtistDicographyPageProps> = memo((props) => {\n  const ref = useRef<HTMLDivElement>(null);\n\n  return (\n    <div className='artist-discrography-page' ref={ref}>\n      <ArtistDicographyHoverableMenu\n        sectionContainer={ref}\n        container={props.container}\n        color={DEFAULT_PAGE_COLOR}\n      />\n\n      <DiscographyContent />\n    </div>\n  );\n});\n\nexport default ArtistDiscographyContainer;\n","import { FC, memo, RefObject, useEffect } from 'react';\n\nimport { useParams } from 'react-router-dom';\nimport { useAppDispatch } from '../../store/store';\nimport ArtistDiscographyContainer from './container';\nimport { artistDiscographyActions } from '../../store/slices/discography';\n\ninterface ArtistDicographyPageProps {\n  container: RefObject<HTMLDivElement | null>;\n}\n\nexport const ArtistDiscography: FC<ArtistDicographyPageProps> = memo((props) => {\n  const dispatch = useAppDispatch();\n  const params = useParams<{ artistId: string }>();\n\n  useEffect(() => {\n    if (params.artistId) {\n      dispatch(artistDiscographyActions.fetchData(params.artistId));\n    }\n    return () => {\n      dispatch(artistDiscographyActions.setArtist({ artist: null }));\n    };\n  }, [dispatch, params.artistId]);\n\n  return (\n    <div>\n      <ArtistDiscographyContainer container={props.container} />\n    </div>\n  );\n});\n\nexport default ArtistDiscography;\n","import type { Album } from '../interfaces/albums';\nimport type { Artist } from '../interfaces/artist';\nimport type { Playlist } from '../interfaces/playlists';\nimport { Track } from '../interfaces/track';\n\nexport const removeHtmlTags = (html: string) => {\n  const div = document.createElement('div');\n  div.innerHTML = html;\n  return div.textContent || div.innerText || '';\n};\n\nexport const getItemDescription = (item: Playlist | Album | Artist | Track) => {\n  if (item.type === 'playlist') {\n    return getPlaylistDescription(item);\n  }\n  if (item.type === 'album') {\n    return getAlbumDescription(item);\n  }\n  return '';\n};\n\nexport const getPlaylistDescription = (item: Playlist | Album | Artist | Track) => {\n  if (item.type === 'playlist') {\n    return removeHtmlTags(item.description || '');\n  }\n  return '';\n};\n\nexport const getAlbumDescription = (item: Playlist | Album | Artist | Track) => {\n  if (item.type === 'album') {\n    const year = item.release_date.split('-')[0];\n    const type = item.album_type === 'album' ? 'Album' : 'Single';\n    return `${year} â€¢ ${type}`;\n  }\n  return '';\n};\n"],"names":["DiscographyContent","memo","filter","useAppSelector","state","artistDiscography","albums","singles","compilations","items","useMemo","result","push","orderBy","_jsx","style","margin","marginTop","className","children","GridItemList","getDescription","getAlbumDescription","displayName","FilterSection","t","useTranslation","dispatch","useAppDispatch","open","setOpen","useState","length","unshift","Dropdown","trigger","onOpenChange","placement","menu","map","item","key","label","onClick","artistDiscographyActions","setFilter","selectedKeys","_jsxs","Space","align","fontSize","ArrowUpIcon","ArrowDownIcon","props","artist","PageHeader","_objectSpread","activeHeider","activeContentHeight","Flex","justify","name","size","ref","useRef","ArtistDicographyHoverableMenu","sectionContainer","container","color","DEFAULT_PAGE_COLOR","ArtistDiscography","params","useParams","useEffect","artistId","fetchData","setArtist","ArtistDiscographyContainer","getItemDescription","type","getPlaylistDescription","html","div","document","createElement","innerHTML","textContent","innerText","removeHtmlTags","description","year","release_date","split","album_type","concat"],"sourceRoot":""}